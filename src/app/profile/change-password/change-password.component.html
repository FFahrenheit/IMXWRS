<div class="table-responsive container text-center pt-2">
    <span class="px-3 badge badge-warning bigger-font"
        *ngIf="isLocked()">
        You can't use the site until you change your password.
    </span>

    <alert></alert>
    <h4 class="text-left my-3">Change password</h4>
    <form [formGroup]="form">

        <div class="row d-flex justify-content-center">

            <div class="col-md-5">
                
                <profile-view profileTitle="My profile" autoLoad="true">

                </profile-view>

            </div>

            <div class="col-md-7">
                <div class="form-group row pt-2 has-error has-feedback">
                    <label for="" class="col-md-4 col-form-label">New password</label>
                    <div class="col-md-8">
                        <input formControlName="password" type="password" class="form-control"
                            placeholder="New password" [class]="passwordValid()">

                        <span *ngIf="needsPassword()" class="text-danger text-center invalid">
                            New password is required<br>
                        </span>
                        <span *ngIf="regex()" class="text-danger text-center invalid">
                            Password must be at least 6 characters long<br>
                        </span>
                    </div>
                </div>

                <div class="form-group row pt-2 has-error has-feedback">
                    <label for="" class="col-md-4 col-form-label">Confirm password</label>
                    <div class="col-md-8">
                        <input formControlName="confirm" type="password" class="form-control"
                            placeholder="Confirm password" [class]="confirmPassword()">

                        <span *ngIf="needsConfirm()" class="text-danger text-center invalid">
                            Confirmation is required<br>
                        </span>
                        <span *ngIf="passwordMatch()" class="text-danger text-center invalid">
                            Passwords don't match<br>
                        </span>
                    </div>
                </div>
            </div>

        </div>
        <button [ngClass]="{'no-ok' : !form.valid || passwordMatch() }" type="button" (click)="next()" class="btn px-5 btn-success float-right">Next</button>

    </form>

</div>